import { isPlainObject } from "@vuepress/shared";
import { keys } from "vuepress-shared/node";
export const getStatus = (app, themeOptions) => {
    const { locales } = app.options;
    const { plugins = {} } = themeOptions;
    return {
        enableBlog: Boolean(plugins.blog),
        enableEncrypt: Boolean(themeOptions.encrypt &&
            ("admin" in themeOptions.encrypt || "config" in themeOptions.encrypt)),
        enableSlide: Boolean(plugins.mdEnhance && plugins.mdEnhance.presentation),
        enableReadingTime: plugins.readingTime !== false,
        blogType: isPlainObject(plugins.blog)
            ? plugins.blog?.type?.map(({ key, path }) => ({
                key,
                path: path || `/${key}/`,
            })) || []
            : [],
        hasMultipleLanguages: keys(locales).length > 1,
        supportPageview: Boolean(plugins.comment && plugins.comment.provider === "Waline"),
    };
};
//# sourceMappingURL=status.js.map