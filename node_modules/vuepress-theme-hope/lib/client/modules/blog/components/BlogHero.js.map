{"version":3,"file":"BlogHero.js","sourceRoot":"","sources":["../../../../../src/client/modules/blog/components/BlogHero.ts"],"names":[],"mappings":"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","sourcesContent":["import {\n  usePageFrontmatter,\n  usePageHeadTitle,\n  withBase,\n} from \"@vuepress/client\";\nimport { computed, defineComponent, h, ref } from \"vue\";\n\nimport DropTransition from \"@theme-hope/components/transitions/DropTransition\";\nimport { SlideDownIcon } from \"./icons/icons.js\";\nimport defaultHeroBgImagePath from \"../assets/hero.jpg\";\n\nimport type { VNode } from \"vue\";\nimport type { ThemeBlogHomePageFrontmatter } from \"../../../../shared/index.js\";\n\nimport \"../styles/blog-hero.scss\";\n\nexport default defineComponent({\n  name: \"BlogHero\",\n\n  setup() {\n    const title = usePageHeadTitle();\n    const frontmatter = usePageFrontmatter<ThemeBlogHomePageFrontmatter>();\n\n    const hero = ref<HTMLElement>();\n    const heroImage = computed(() => frontmatter.value.heroImage || null);\n\n    const isFullScreen = computed(\n      () => frontmatter.value.heroFullScreen || false\n    );\n\n    const bgImage = computed(() =>\n      frontmatter.value.bgImage\n        ? withBase(frontmatter.value.bgImage)\n        : frontmatter.value.bgImage ?? defaultHeroBgImagePath\n    );\n\n    return (): VNode | null =>\n      frontmatter.value.hero === false\n        ? null\n        : h(\n            \"div\",\n            {\n              ref: hero,\n              class: [\n                \"blog-hero\",\n                {\n                  fullscreen: isFullScreen.value,\n                  \"no-bg\": !bgImage.value,\n                },\n              ],\n            },\n            [\n              bgImage.value\n                ? h(\"div\", {\n                    class: \"mask\",\n                    style: {\n                      background: `url(${bgImage.value}) center/cover no-repeat`,\n                      ...frontmatter.value.bgImageStyle,\n                    },\n                  })\n                : null,\n              h(DropTransition, { appear: true, delay: 0.04 }, () =>\n                heroImage.value\n                  ? h(\"img\", {\n                      class: \"hero-image\",\n                      style: frontmatter.value.heroImageStyle,\n                      src: withBase(heroImage.value),\n                      alt: frontmatter.value.heroAlt || \"hero image\",\n                    })\n                  : null\n              ),\n              h(DropTransition, { appear: true, delay: 0.08 }, () =>\n                frontmatter.value.heroText === false\n                  ? null\n                  : h(\"h1\", frontmatter.value.heroText || title.value)\n              ),\n              h(DropTransition, { appear: true, delay: 0.12 }, () =>\n                frontmatter.value.tagline\n                  ? h(\"p\", {\n                      class: \"description\",\n                      innerHTML: frontmatter.value.tagline,\n                    })\n                  : null\n              ),\n              isFullScreen.value\n                ? h(\n                    \"button\",\n                    {\n                      class: \"slide-down-button\",\n                      onClick: () => {\n                        window.scrollTo({\n                          top: hero.value!.clientHeight,\n                          behavior: \"smooth\",\n                        });\n                      },\n                    },\n                    [h(SlideDownIcon), h(SlideDownIcon)]\n                  )\n                : null,\n            ]\n          );\n  },\n});\n"]}