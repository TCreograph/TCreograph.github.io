import{useStorage as y}from"@vueuse/core";import{defineComponent as I,ref as c,onMounted as g,watch as h,h as n}from"vue";import"../styles/tabs.scss";const v=y("VUEPRESS_TAB_STORE",{});var S=I({name:"Tabs",props:{active:{type:Number,default:0},data:{type:Array,required:!0},id:{type:String,required:!0},tabId:{type:String,default:""}},setup(e,{slots:o}){const l=c(e.active),u=c([]),s=()=>{if(e.tabId){const{title:a,id:t=a}=e.data[l.value];v.value[e.tabId]=t}},b=(a=l.value)=>{l.value=a<u.value.length-1?a+1:0,u.value[l.value].focus()},f=(a=l.value)=>{l.value=a>0?a-1:u.value.length-1,u.value[l.value].focus()},p=(a,t)=>{a.key===" "||a.key==="Enter"?(a.preventDefault(),l.value=t):a.key==="ArrowRight"?(a.preventDefault(),b()):a.key==="ArrowLeft"&&(a.preventDefault(),f()),s()},m=()=>{if(e.tabId){const a=e.data.findIndex(({title:t,id:i=t})=>v.value[e.tabId]===i);if(a!==-1)return a}return e.active};return g(()=>{l.value=m(),h(()=>v.value[e.tabId],(a,t)=>{if(e.tabId&&a!==t){const i=e.data.findIndex(({title:r,id:d=r})=>d===a);i!==-1&&(l.value=i)}})}),()=>e.data.length?n("div",{class:"tab-list"},[n("div",{class:"tab-list-nav",role:"tablist"},e.data.map(({title:a},t)=>{const i=t===l.value;return n("button",{ref:r=>{r&&(u.value[t]=r)},class:["tab-list-nav-item",{active:i}],role:"tab","aria-controls":`tab-${e.id}-${t}`,"aria-selected":i,onClick:()=>{l.value=t,s()},onKeydown:r=>p(r,t)},a)})),e.data.map(({title:a,id:t=a},i)=>{var r;const d=i===l.value;return n("div",{class:["tab-item",{active:d}],id:`tab-${e.id}-${i}`,role:"tabpanel","aria-expanded":d},(r=o[`tab${i}`])==null?void 0:r.call(o,{title:a,value:t,isActive:d}))})]):null}});export{S as default};
//# sourceMappingURL=Tabs.js.map
