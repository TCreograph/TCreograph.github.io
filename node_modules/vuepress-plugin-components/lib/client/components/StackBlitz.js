import{ref as p,computed as g,unref as l,onMounted as b,isRef as $,watch as w,defineComponent as N,h as S}from"vue";import{isString as s}from"@vuepress/shared";import{useEventListener as f}from"@vueuse/core";import"../styles/stack-blitz.scss";const m=e=>s(e)?e:`${e}px`,y=(e,i=0)=>{const r=p(),n=g(()=>m(l(e.width)||"100%")),u=p("auto"),c=t=>{if(s(t)){const[o,d]=t.split(":"),h=Number(o)/Number(d);if(!Number.isNaN(h))return h}return typeof t=="number"?t:16/9},v=t=>{const o=l(e.height),d=c(l(e.ratio));return o?m(o):`${Number(t)/d+l(i)}px`},a=()=>{r.value&&(u.value=v(r.value.clientWidth))};return b(()=>{a(),$(i)&&w(i,()=>a()),f("orientationchange",()=>a()),f("resize",()=>a())}),{el:r,width:n,height:u}};var B=N({name:"StackBlitz",props:{id:{type:String,required:!0},width:{type:[String,Number],default:"100%"},height:{type:[String,Number],default:void 0},ratio:{type:[String,Number],default:16/9},file:{type:String,default:""},initialPath:{type:String,default:""},embed:Boolean,load:Boolean,view:{type:String,default:"preview"},hideExplorer:Boolean,hideNavigation:Boolean,hideDevtools:Boolean},setup(e){const{el:i,width:r,height:n}=y(e);return()=>S("iframe",{ref:i,class:"stack-blitz-iframe",src:`https://stackblitz.com/edit/${e.id}?embed=${e.embed?1:0}${e.file?`&file=${e.file}`:""}${e.initialPath?`&initialpath=${encodeURI(e.initialPath)}`:""}&ctl=${e.load?0:1}&view=${e.view}${e.hideExplorer?"&hideExplorer=1":""}${e.hideNavigation?"&hideNavigation=1":""}${e.hideDevtools?"&hidedevtools=1":""}`,allow:"clipboard-write",style:{width:r.value,height:n.value}})}});export{B as default};
//# sourceMappingURL=StackBlitz.js.map
