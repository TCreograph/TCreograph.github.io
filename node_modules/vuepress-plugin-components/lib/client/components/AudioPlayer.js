import{defineComponent as n,ref as s,computed as u,onMounted as p,onBeforeMount as d,h as t}from"vue";import{withBase as c}from"@vuepress/client";import{isLinkHttp as m}from"@vuepress/shared";import"plyr/dist/plyr.css";import"../styles/audio-player.scss";const l=o=>m(o)?o:c(o);var f=n({name:"AudioPlayer",props:{options:{type:Object,default:()=>({})},src:{type:String,required:!0},title:{type:String,default:""},type:{type:String,default:""},poster:{type:String,default:""},loop:Boolean},setup(o){let r=null;const i=s(),a=u(()=>({hideYouTubeDOMError:!0,...o.options}));return p(()=>{import("plyr").then(({default:e})=>{i.value&&(r=new e(i.value,a.value))})}),d(()=>{try{r==null||r.destroy()}catch(e){a.value.hideYouTubeDOMError&&e.message==="The YouTube player is not attached to the DOM."||console.error(e)}}),()=>o.src?[t("div",{class:"audio-wrapper"},[t("a",{class:"audio-print",href:l(o.src),innerHTML:o.title||"An audio"}),o.poster?t("img",{class:"audio-poster",src:l(o.poster)}):null,t("div",{class:"audio-info"},[o.title?t("div",{class:"audio-title",innerHTML:o.title}):null,t("audio",{ref:i,crossorigin:"anonymous",preload:"metadata",controls:"",...o.loop?{loop:""}:{}},t("source",{src:l(o.src),type:o.type}))])])]:null}});export{f as default};
//# sourceMappingURL=AudioPlayer.js.map
