import{defineClientConfig as k}from"@vuepress/client";import{useEventListener as v}from"@vueuse/core";import{h as e,ref as l,provide as f,defineComponent as i,inject as g,defineAsyncComponent as b,onMounted as y,watch as C}from"vue";import{IconBase as w,useLocaleConfig as c,checkIsMobile as M}from"vuepress-shared/client";import"./styles/search-box.scss";import"./styles/search-modal.scss";const u=()=>e(w,{name:"search"},()=>e("path",{d:"M192 480a256 256 0 1 1 512 0 256 256 0 0 1-512 0m631.776 362.496-143.2-143.168A318.464 318.464 0 0 0 768 480c0-176.736-143.264-320-320-320S128 303.264 128 480s143.264 320 320 320a318.016 318.016 0 0 0 184.16-58.592l146.336 146.368c12.512 12.48 32.768 12.48 45.28 0 12.48-12.512 12.48-32.768 0-45.28"}));u.displayName="SearchIcon";const d=Symbol.for("search-pro"),S=()=>{const a=l(!1);f(d,a)},E=SEARCH_PRO_HOTKEYS,p=SEARCH_PRO_LOCALES,L=a=>a instanceof Element?document.activeElement===a&&(["TEXTAREA","SELECT","INPUT"].includes(a.tagName)||a.hasAttribute("contenteditable")):!1,T=a=>E.some(o=>{const{key:t,ctrl:n=!1,shift:s=!1,alt:r=!1}=o;return t===a.key&&n===a.ctrlKey&&s===a.shiftKey&&r===a.altKey});var A=i({name:"SearchBox",setup(){const a=c(p),o=g(d);return v("keydown",t=>{!o.value&&T(t)&&!L(t.target)&&(t.preventDefault(),o.value=!0)}),()=>[e("button",{class:"search-pro-button",role:"search","aria-label":a.value.search,onClick:()=>{o.value=!0}},e(u))]}});const m=()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",preserveAspectRatio:"xMidYMid",viewBox:"0 0 100 100"},[e("circle",{cx:"28",cy:"75",r:"11",fill:"currentColor"},e("animate",{attributeName:"fill-opacity",begin:"0s",dur:"1s",keyTimes:"0;0.2;1",repeatCount:"indefinite",values:"0;1;1"})),e("path",{fill:"none",stroke:"#88baf0","stroke-width":"10",d:"M28 47a28 28 0 0 1 28 28"},e("animate",{attributeName:"stroke-opacity",begin:"0.1s",dur:"1s",keyTimes:"0;0.2;1",repeatCount:"indefinite",values:"0;1;1"})),e("path",{fill:"none",stroke:"#88baf0","stroke-width":"10",d:"M28 25a50 50 0 0 1 50 50"},e("animate",{attributeName:"stroke-opacity",begin:"0.2s",dur:"1s",keyTimes:"0;0.2;1",repeatCount:"indefinite",values:"0;1;1"}))]);m.displayName="LoadingIcon";const x=i({name:"SearchLoading",setup(){const a=c(p);return()=>e("div",{class:"search-pro-result loading"},[e(m),a.value.loading])}}),H=b({loader:()=>import("vuepress-plugin-search-pro/result"),loadingComponent:x});var I=i({name:"SearchModal",setup(){const a=g(d),o=c(p),t=l(""),n=l(!1),s=l();return v("keydown",r=>{a.value&&r.key==="Escape"&&(a.value=!1)}),y(()=>{n.value=M(navigator.userAgent),C(a,r=>{var h;r&&((h=s.value)==null||h.focus())})}),()=>a.value?e("div",{class:"search-pro-modal-wrapper"},[e("div",{class:"background",onClick:()=>{a.value=!1,t.value=""}}),e("div",{class:"search-pro-modal"},[e("div",{class:"search-pro-box"},[e(u),e("input",{ref:s,type:"text",class:"search-pro-input",placeholder:o.value.placeholder,spellcheck:"false",value:t.value,onInput:({target:r})=>{t.value=r.value}}),e("button",{class:"close-button",onClick:()=>{a.value=!1,t.value=""}},o.value.cancel)]),e(H,{query:t.value,onClose:()=>{a.value=!1},onUpdateQuery:r=>{t.value=r}}),n.value?null:e("div",{class:"search-pro-hints"},[e("span",{class:"search-pro-hint"},[e("kbd",{innerHTML:'<svg width="15" height="15" aria-label="Enter key" role="img"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.2"><path d="M12 3.53088v3c0 1-1 2-2 2H4M7 11.53088l-3-3 3-3"></path></g></svg>'}),o.value.select]),e("span",{class:"search-pro-hint"},[e("kbd",{innerHTML:'<svg width="15" height="15" aria-label="Arrow down" role="img"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.2"><path d="M7.5 3.5v8M10.5 8.5l-3 3-3-3"></path></g></svg>'}),e("kbd",{innerHTML:'<svg width="15" height="15" aria-label="Arrow up" role="img"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.2"><path d="M7.5 11.5v-8M10.5 6.5l-3-3-3 3"></path></g></svg>'}),o.value.navigate]),e("span",{class:"search-pro-hint"},[e("kbd",{innerHTML:'<svg width="15" height="15" aria-label="Escape key" role="img"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.2"><path d="M13.6167 8.936c-.1065.3583-.6883.962-1.4875.962-.7993 0-1.653-.9165-1.653-2.1258v-.5678c0-1.2548.7896-2.1016 1.653-2.1016.8634 0 1.3601.4778 1.4875 1.0724M9 6c-.1352-.4735-.7506-.9219-1.46-.8972-.7092.0246-1.344.57-1.344 1.2166s.4198.8812 1.3445.9805C8.465 7.3992 8.968 7.9337 9 8.5c.032.5663-.454 1.398-1.4595 1.398C6.6593 9.898 6 9 5.963 8.4851m-1.4748.5368c-.2635.5941-.8099.876-1.5443.876s-1.7073-.6248-1.7073-2.204v-.4603c0-1.0416.721-2.131 1.7073-2.131.9864 0 1.6425 1.031 1.5443 2.2492h-2.956"></path></g></svg>'}),o.value.exit])])])]):null}}),N=k({enhance({app:a}){a.component("SearchBox",A)},setup(){S()},rootComponents:[I]});export{N as default};
//# sourceMappingURL=config.js.map
