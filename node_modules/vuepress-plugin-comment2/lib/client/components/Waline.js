import{usePageFrontmatter as h,usePageLang as d,withBase as l}from"@vuepress/client";import{Waline as g}from"@waline/client/dist/component.mjs";import{pageviewCount as C}from"@waline/client/dist/pageview.mjs";import{pageviewCount as z}from"@waline/client/dist/pageview.mjs";import{defineComponent as L,computed as n,onMounted as w,watch as E,h as u}from"vue";import{useRoute as N}from"vue-router";import{useLocaleConfig as W}from"vuepress-shared/client";import"@waline/client/dist/waline.css";import"../styles/waline.scss";const e=COMMENT_OPTIONS,A=WALINE_LOCALES,m=Boolean(e.serverURL);WALINE_META&&import("@waline/client/dist/waline-meta.css");var B=L({name:"WalineComment",setup(){const o=N(),i=h(),p=d(),s=W(A);let a;const v=n(()=>{if(!m)return!1;const r=e.comment!==!1,t=i.value.comment;return Boolean(t)||r!==!1&&t!==!1}),c=n(()=>{if(!m)return!1;const r=e.pageview!==!1,t=i.value.pageview;return Boolean(t)||r!==!1&&t!==!1}),f=n(()=>({lang:p.value==="zh-CN"?"zh-CN":"en",locale:s.value,dark:"html.dark",...e,path:l(o.path)}));return w(()=>{E(()=>o.path,()=>{a==null||a(),c.value&&setTimeout(()=>{a=C({serverURL:e.serverURL,path:l(o.path)})},e.delay||800)},{immediate:!0})}),()=>v.value?u("div",{class:"waline-wrapper",id:"comment"},m?u(g,f.value):[]):null}});export{B as default,z as pageviewCount};
//# sourceMappingURL=Waline.js.map
